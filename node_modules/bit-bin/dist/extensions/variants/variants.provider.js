"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.provideVariants = provideVariants;

function _bluebird() {
  const data = require("bluebird");

  _bluebird = function () {
    return data;
  };

  return data;
}

function _variants() {
  const data = require("./variants");

  _variants = function () {
    return data;
  };

  return data;
}

function provideVariants(_x, _x2) {
  return _provideVariants.apply(this, arguments);
}

function _provideVariants() {
  _provideVariants = (0, _bluebird().coroutine)(function* ([hostConfig], config) {
    const variants = new (_variants().Variants)(config, hostConfig); // TODO: fix when config become maybe

    if (hostConfig.type) {
      hostConfig.registerGetVariantsConfig(variants.legacy.bind(variants));
      hostConfig.registerGetVariantConfig(variants.legacyById.bind(variants));
    }

    return variants;
  });
  return _provideVariants.apply(this, arguments);
}