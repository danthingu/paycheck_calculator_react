"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getID = getID;
exports.default = void 0;

function _exceptions() {
  const data = require("./exceptions");

  _exceptions = function () {
    return data;
  };

  return data;
}

class CommandRegistry {
  constructor(commands) {
    this.commands = commands;
  }
  /**
   * register a new command
   */


  register(command) {
    const id = CommandRegistry.getID(command);

    if (this.commands[id]) {
      throw new (_exceptions().AlreadyExistsError)('Command', id);
    }

    this.commands[id] = command;
  }
  /**
   * return a command unique ID.
   */


  static getID(cmd) {
    return getID(cmd.name);
  }

}

exports.default = CommandRegistry;

function getID(cmd) {
  return cmd.split(' ')[0].trim();
}